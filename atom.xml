<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>养猪大师</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2020-05-10T12:15:53.198Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>John Doe</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>图片懒加载与防抖节流</title>
    <link href="http://yoursite.com/2020/05/10/%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD%E4%B8%8E%E8%8A%82%E6%B5%81/"/>
    <id>http://yoursite.com/2020/05/10/%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD%E4%B8%8E%E8%8A%82%E6%B5%81/</id>
    <published>2020-05-10T11:06:17.000Z</published>
    <updated>2020-05-10T12:15:53.198Z</updated>
    
    <summary type="html">
    
      &lt;h2 id=&quot;介绍&quot;&gt;&lt;a href=&quot;#介绍&quot; class=&quot;headerlink&quot; title=&quot;介绍&quot;&gt;&lt;/a&gt;介绍&lt;/h2&gt;&lt;p&gt;图片懒加载是一种比较常见的优化方式，其效果是当用户拉动滚动条到图片位置时，图片才开始加载（未加载之前会用一张默认图片代替），这样可以有效地防止所有图片集中请求加载，造成拥堵。&lt;/p&gt;
&lt;p&gt;下图是建议的效果，当拉动滚动条到当前加载的图片的最后一张时，会发现下一张还未加载。&lt;/p&gt;
&lt;p&gt;然而继续往下拉动后，这张图片会进行加载&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://wx2.sbimg.cn/2020/05/10/MDTCPC1OMCGBM_WHPX.png&quot; alt=&quot;MDTCPC1OMCGBM_WHPX.png&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="图片懒加载 节流 防抖" scheme="http://yoursite.com/tags/%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD-%E8%8A%82%E6%B5%81-%E9%98%B2%E6%8A%96/"/>
    
  </entry>
  
  <entry>
    <title>如何求解async await promise setTimeout的顺序？</title>
    <link href="http://yoursite.com/2020/05/09/%E5%A6%82%E4%BD%95%E6%B1%82%E8%A7%A3async-await-promise-setTimeout%E7%9A%84%E9%A1%BA%E5%BA%8F%EF%BC%9F/"/>
    <id>http://yoursite.com/2020/05/09/%E5%A6%82%E4%BD%95%E6%B1%82%E8%A7%A3async-await-promise-setTimeout%E7%9A%84%E9%A1%BA%E5%BA%8F%EF%BC%9F/</id>
    <published>2020-05-09T12:30:00.000Z</published>
    <updated>2020-05-09T13:54:45.149Z</updated>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;前端笔试题中常常有一种题，给定一定代码，让笔试者写这段代码的输出。一般这段代码，尝尝糅合了各种异步操作，比如async、await、promise、setTimeout，常常令人混淆。与此同时，由于node环境与浏览器环境执行这些异步操作的策略不同，也会有一些差异。&lt;/p&gt;
&lt;h2 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;背景&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;重要概念：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;首先我们要知道Javascript是&lt;strong&gt;单线程&lt;/strong&gt;的&lt;/li&gt;
&lt;li&gt;Javascript里的代码可以分为&lt;strong&gt;同步任务&lt;/strong&gt;与&lt;strong&gt;异步任务&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;同步任务会在&lt;strong&gt;主线程&lt;/strong&gt;上执行。是在栈中执行，先进后出。&lt;/li&gt;
&lt;li&gt;而异步任务会被放置到主线程之外的&lt;strong&gt;任务队列&lt;/strong&gt;，先进先出&lt;/li&gt;
&lt;li&gt;当主线程上的同步任务执行完成后，会读取任务队列的异步任务&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;宏任务与微任务&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;上面讲到异步任务会在任务队列中执行。而执行异步代码的时候会分为两个队列，宏任务队列与微任务队列。&lt;/p&gt;
&lt;p&gt;宏任务包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;一开始执行的整段的代码（script代码）&lt;/li&gt;
&lt;li&gt;setTimeout、setInterval、postMessage等&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;微任务包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Promise.then后面的代码&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;await后面的代码（指的是 await func() 下一行开始的代码）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;process.nextTick（node中的）&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="异步" scheme="http://yoursite.com/tags/%E5%BC%82%E6%AD%A5/"/>
    
  </entry>
  
  <entry>
    <title>纯JS瀑布流效果与动态加载</title>
    <link href="http://yoursite.com/2020/05/09/%E7%80%91%E5%B8%83%E6%B5%81%E6%95%88%E6%9E%9C/"/>
    <id>http://yoursite.com/2020/05/09/%E7%80%91%E5%B8%83%E6%B5%81%E6%95%88%E6%9E%9C/</id>
    <published>2020-05-09T01:06:04.000Z</published>
    <updated>2020-05-09T02:44:36.665Z</updated>
    
    <summary type="html">
    
      &lt;h1 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;headerlink&quot; title=&quot;简介&quot;&gt;&lt;/a&gt;简介&lt;/h1&gt;&lt;p&gt;瀑布流效果的特征是，里面的图片&lt;strong&gt;等宽不等高&lt;/strong&gt;，并按列向下排列。同时，也可以拥有&lt;strong&gt;动态加载&lt;/strong&gt;的功能。&lt;/p&gt;
&lt;p&gt;可以参考&lt;a href=&quot;https://www.mogu.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;蘑菇街&lt;/a&gt;首页的效果&lt;/p&gt;
&lt;p&gt;在社区中也有许多的瀑布流库可以使用，本文主要采用&lt;strong&gt;纯JS&lt;/strong&gt;实现。&lt;/p&gt;
&lt;h1 id=&quot;思路&quot;&gt;&lt;a href=&quot;#思路&quot; class=&quot;headerlink&quot; title=&quot;思路&quot;&gt;&lt;/a&gt;思路&lt;/h1&gt;&lt;p&gt;主要是通过&lt;strong&gt;绝对布局&lt;/strong&gt;的方法对每一个图片盒子进行定位，通过JS计算出每一张图片对应的&lt;strong&gt;left和top属性&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;计算出每一个图片盒子的定位后，通过监听&lt;strong&gt;滚轮事件&lt;/strong&gt;，&lt;strong&gt;判断&lt;/strong&gt;是否要进行动态加载新的图片&lt;/p&gt;
&lt;h1 id=&quot;步骤&quot;&gt;&lt;a href=&quot;#步骤&quot; class=&quot;headerlink&quot; title=&quot;步骤&quot;&gt;&lt;/a&gt;步骤&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;首先搭建基本的html结构&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;以下就是一个图片盒子的基本单元，我们复制40次这个单元以充满首屏。&lt;/p&gt;
&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;box&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;img&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;./images/0.jpg&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;alt&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;body&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
    
      <category term="瀑布流 JS" scheme="http://yoursite.com/tags/%E7%80%91%E5%B8%83%E6%B5%81-JS/"/>
    
  </entry>
  
  <entry>
    <title>开篇！初心与目标</title>
    <link href="http://yoursite.com/2020/05/08/%E5%BC%80%E7%AF%87%EF%BC%81%E5%88%9D%E5%BF%83%E4%B8%8E%E7%9B%AE%E6%A0%87/"/>
    <id>http://yoursite.com/2020/05/08/%E5%BC%80%E7%AF%87%EF%BC%81%E5%88%9D%E5%BF%83%E4%B8%8E%E7%9B%AE%E6%A0%87/</id>
    <published>2020-05-08T08:47:00.000Z</published>
    <updated>2020-05-08T11:05:49.913Z</updated>
    
    <summary type="html">
    
      
      
        
        
          &lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;建立此博客的目的是为了记录一些平常学习中的所学所感。&lt;/p&gt;
&lt;h1 id=&quot;Flag&quot;&gt;&lt;a href=&quot;#Flag&quot;
        
      
    
    </summary>
    
    
    
      <category term="测试" scheme="http://yoursite.com/tags/%E6%B5%8B%E8%AF%95/"/>
    
  </entry>
  
</feed>
